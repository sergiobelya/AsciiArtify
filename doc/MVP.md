# Створення додатку AsciiArtify у ArgoCD - MVP

### Створення додатку в ArgoCD

1. На головній сторінці ArgoCD натисніть кнопку `+ NEW APP`.

2. У вікні створення нового додатку введіть ім'я для вашого додатку. Наприклад, `demo`.

3. Оберіть проект, до якого належить додаток. Тут можна обрати "default".

4. У розділі SYNC POLICY залиште варіант "Manual". 
Це означає, що синхронізація додатку буде виконуватися вручну, коли ви цього захочете.

5. У розділі SYNC OPTIONS вкажіть, як додаток буде синхронізуватися з репозиторієм. 
Оберіть опцію AUTO-CREATE NAMESPACE, щоб ArgoCD автоматично створював новий namespace, оскільки в helm ця функція за замовчуванням відсутня.

6. У розділі SOURCE залиште тип джерела за замовчуванням (GIT).

7. В поле "URL репозиторію" введіть посилання на новий репозиторій з маніфестами для розгортання. 
Наприклад, `https://github.com/den-vasyliev/go-demo-app`.

8. У полі "Path" введіть шлях до каталогу helm або іншого каталогу з маніфестами для розгортання вашого додатку.

9. У розділі DESTINATION вкажіть URL локального кластеру та новий namespace. Наприклад, `https://kubernetes.default.svc` та `demo`. 
ArgoCD автоматично визначить параметри додатку, використовуючи маніфести, які знаходяться в репозиторії. 
У разі бажання змінити значення вручну, ви можете зробити це в розділі "PARAMETERS".

10. Натисніть кнопку `CREATE`.

11. Тепер ваш додаток `demo` налаштований у ArgoCD і буде автоматично встановлюватись та оновлюватись в Kubernetes відповідно до налаштувань синхронізації.

### Деталі розгорнутого застосунку

Після створення додатку в ArgoCD перегляньте його деталі, натиснувши на нього у списку додатків. 
Графічний інтерфейс надає ієрархічне уявлення про компоненти програми, їх розгортання та поточний стан у кластері.

### Синхронізація застосунку

Для синхронізації застосунку натисніть кнопку `SYNC` у вікні відомостей про програму. 
Потім оберіть компоненти та режими синхронізації та натисніть кнопку `SYNCHRONIZE`. 
Після завершення процесу можна перевірити правильність розгортання програми, переглянувши її статус у кластері.

### Дослідження реакції ArgoCD на зміни

Прослідкуйте за реакцією ArgoCD на зміни в репозиторії. 
Змініть тип шлюзу з NodePort на LoadBalancer у файлі репозиторію https://github.com/den-vasyliev/go-demo-app/blob/master/helm/values.yaml. 
Викликаний процес синхронізації отримає останню версію репозиторію гіт та порівняє її з поточним станом. 
Таким чином бачимо, що тип сервісу для ambassador змінився з NodePort на LoadBalancer та відповідно був оновлений маніфест Kubernetes.

